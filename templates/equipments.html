<!DOCTYPE html>
<html
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{modules/layout :: html (content = ~{::content},page_js = ~{::page_js},_title = ${title},_head = ~{::head})}"
>
  <th:block th:fragment="content">
    <div class="relative z-[2] mt-32 sm:px-8 lg:mt-48">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 md:px-8">
          <header class="fade-before relative z-[2] max-w-2xl">
            <h1 class="font-slogan text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100">
              [[${title}]]
            </h1>
            <p class="my-6 text-base text-zinc-600 dark:text-zinc-400">
              <span style="display: inline-block; vertical-align: top; text-decoration: inherit; text-wrap: balance">
                [[${theme.config.pluginPage.equipment_description}]]
              </span>
            </p>
          </header>
          <main class="mt-8">
            <th:block th:each="group : ${equipmentFinder.groupBy()}">
              <div
                class="flex items-baseline gap-2 after:ml-2 after:hidden after:h-0 after:flex-1 after:border-b after:border-dashed after:border-zinc-100 after:content-[''] sm:after:block after:dark:border-zinc-700/40"
              >
                <h2 class="flex items-center gap-2 text-2xl font-medium text-zinc-700 dark:text-zinc-100">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-spotlight-icon lucide-spotlight"
                  >
                    <path d="M15.295 19.562 16 22" />
                    <path d="m17 16 3.758 2.098" />
                    <path d="m19 12.5 3.026-.598" />
                    <path
                      d="M7.61 6.3a3 3 0 0 0-3.92 1.3l-1.38 2.79a3 3 0 0 0 1.3 3.91l6.89 3.597a1 1 0 0 0 1.342-.447l3.106-6.211a1 1 0 0 0-.447-1.341z"
                    />
                    <path d="M8 9V2" />
                  </svg>
                  [[${group.spec.displayName}]]
                </h2>
                <p class="text-xs text-zinc-500 dark:text-zinc-400">[[${group.spec.description}]]</p>
              </div>
              <ul class="mb-8 mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
                <li
                  class="list-none space-y-2 rounded-2xl border border-zinc-200 bg-gradient-to-b from-zinc-50/50 to-white/70 p-2 dark:border-zinc-700/40 dark:from-zinc-900/70 dark:to-zinc-800/60"
                  th:each="equipment : ${group.equipments}"
                >
                  <img
                    th:src="${equipment.spec.cover}"
                    th:alt="${equipment.spec.displayName}"
                    class="load h-[240px] w-full rounded-xl bg-zinc-800/60 object-cover sm:h-[150px]"
                    data-fancybox="images"
                  />
                  <div class="content mt-auto space-y-1 px-2">
                    <p class="text-lg font-medium">
                      <a
                        th:href="${equipment.spec.url}"
                        class="iconfont line-clamp-1 transition-colors hover:text-lime-500 hover:underline"
                        target="_blank"
                      >
                        [[${equipment.spec.displayName}]]
                      </a>
                    </p>

                    <span
                      class="rounded-md bg-blue-400/20 px-1 py-0.5 text-[0.65rem] leading-tight text-blue-700 dark:bg-blue-400/20 dark:text-blue-400"
                      >[[${equipment.spec.specification}]]
                    </span>
                    <p
                      class="line-clamp-2 text-sm text-zinc-600 dark:text-zinc-400"
                      th:title="${equipment.spec.description}"
                    >
                      [[${equipment.spec.description}]]
                    </p>
                  </div>
                </li>
              </ul>
            </th:block>

            <div class="mt-8" th:if="${theme.config.pluginPage.equipment_comment}">
              <th:block
                th:replace="~{modules/widgets/comment :: page('PluginEquipments','Plugin','plugin.halo.run')}"
              ></th:block>
            </div>
          </main>
        </div>
      </div>
    </div>
  </th:block>
  <th:block th:fragment="page_js">
    <th:block th:replace="~{modules/widgets/fancy}"></th:block>
    <script th:src="@{/assets/js/marked.umd.js?v={version}(version='1.2.2')}"></script>
  </th:block>
</html>
